<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro de Aluno</title>
<link rel="stylesheet" href="Style.css">
</head>
<body>

<div class="container">
  <h2 class="titulo">Cadastro de Aluno</h2>

  <form id="cadastroAlunoForm">
    <label for="matricula">Matrícula:</label><br>
    <input type="text" id="matricula" name="matricula"><br><br>
    
    <label for="nome">Nome:</label><br>
    <input type="text" id="nome" name="nome"><br><br>
    
    <label for="cpf">CPF:</label><br>
    <input type="text" id="cpf" name="cpf"><br><br>
    
    <label for="endereco">Endereço:</label><br>
    <input type="text" id="endereco" name="endereco"><br><br>
    
    <button type="button" onclick="enviarCadastro()">Enviar</button>
  </form>
</div>
<script>
    function enviarCadastro() {
      var formData = {
        matricula: document.getElementById("matricula").value,
        nome: document.getElementById("nome").value,
        cpf: document.getElementById("cpf").value,
        endereco: document.getElementById("endereco").value
      };
    
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "http://localhost:8080/aluno", true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            alert("Cadastro realizado com sucesso!");
            // Limpar formulário após o envio bem-sucedido, se necessário
            document.getElementById("cadastroAlunoForm").reset();
          } else {
            alert("Ocorreu um erro ao enviar o cadastro. Por favor, tente novamente.");
          }
        }
      };
      xhr.send(JSON.stringify(formData));
    }
    </script>
</body>
</html>
